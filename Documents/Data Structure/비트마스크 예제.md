d190924(화)

## 16장. 비트마스크 예제



####1. 15퍼즐 상태 표현하기

```c++
typedef unsigned long long uint64;

// mask의 index 위치에 쓰인 값 반환
int get(uint64 mask, int index){
  return (mask >> (index<<2)) & 15;
}

// mask의 index 위치를 value로 바꾼 결과를 반환
uint64 set(uint64 mask, int index, uint64 value){
  return mask & ~(15LL << (index<<2)) | (value << (index<<2));
}

```



####2. 극대 안정 집합 

```c++
int n;
int explodes[MAXN]; // i와 같이 두었을 때 폭발하는 집합

bool isStable(int set){
  for(int i=0 ; i<n ; i++)
    if((set&(1<<i)) && (set&explodes[i]))
      return false;
  return true;
}

int countStableSet(){
  int ret = 0;
  for(int set=1 ; set<(1<<n) ; ++set){
    if(!isStable(set))
      continue;
    bool canExtend = false;
    for(int add=0 ; add<n ; ++add)
      if((set&(1<<add))==0 && (explodes[add]&set)==0){
        canExtend = true;
        break;
      }
    if(!canExtend)
      ++ret;
  }
   return ret; 
}

```



비트마스크 어렵...